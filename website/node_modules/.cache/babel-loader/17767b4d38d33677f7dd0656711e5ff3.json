{"ast":null,"code":"import _regeneratorRuntime from\"/usr/local/privacy/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/usr/local/privacy/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/usr/local/privacy/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import'fontsource-roboto';import'./App.css';import Typography from\"@material-ui/core/Typography\";import Button from'@material-ui/core/Button';import makeStyles from'@material-ui/core/styles/makeStyles';import CssBaseline from'@material-ui/core/CssBaseline';import Container from'@material-ui/core/Container';import Box from'@material-ui/core/Box';import TextField from\"@material-ui/core/TextField\";import FormControl from'@material-ui/core/FormControl';import Result from\"./components/ResultList\";import AppBar from\"./components/AppBar\";import Footer from\"./components/Footer\";import Alert from'@material-ui/lab/Alert';var useStyles=makeStyles(function(theme){return{main:{flex:1,padding:theme.spacing(2)},heroContent:{padding:theme.spacing(4,2)}};});export var State;(function(State){State[State[\"Normal\"]=0]=\"Normal\";State[State[\"Succeeded\"]=1]=\"Succeeded\";State[State[\"Failed\"]=2]=\"Failed\";})(State||(State={}));function App(){var classes=useStyles();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var _React$useState3=React.useState(State.Normal),_React$useState4=_slicedToArray(_React$useState3,2),state=_React$useState4[0],setState=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),error=_React$useState6[0],setError=_React$useState6[1];var _React$useState7=React.useState({names:[],nicknames:[],phone_numbers:[],id_numbers:[],qq_numbers:[],passwords:[],emails:[],addresses:[]}),_React$useState8=_slicedToArray(_React$useState7,2),result=_React$useState8[0],setResult=_React$useState8[1];var closeResult=function closeResult(){setState(State.Normal);};var query=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setState(State.Normal);if(!(value.length===0)){_context.next=3;break;}return _context.abrupt(\"return\");case 3:url=new URL(document.baseURI+'api/query');url.search=new URLSearchParams({'value':value}).toString();fetch(url.toString(),{}).then(function(response){return response.json();}).then(function(response){if(response.code!==0){setState(State.Failed);setError(response.message);return;}setResult(response.data);setState(State.Succeeded);}).catch(function(error){setState(State.Failed);setError(error);console.log('error: '+error);});case 6:case\"end\":return _context.stop();}}},_callee);}));return function query(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(AppBar,{}),/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",component:\"main\",className:classes.main,children:[state===State.Failed&&/*#__PURE__*/_jsx(Alert,{variant:\"filled\",severity:\"error\",children:error}),/*#__PURE__*/_jsxs(Box,{mt:2,children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h2\",align:\"center\",color:\"textPrimary\",gutterBottom:true,children:\"Privacy\"}),/*#__PURE__*/_jsx(Typography,{component:\"p\",variant:\"h5\",align:\"center\",color:\"textSecondary\",children:\"\\u300C is dead, get over it. \\u300D\"})]}),/*#__PURE__*/_jsx(Box,{mt:4,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,component:\"fieldset\",children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"filled-basic\",label:\"QQ / \\u624B\\u673A\\u53F7 / \\u8EAB\\u4EFD\\u8BC1\\u53F7 / \\u90AE\\u7BB1\",variant:\"outlined\",type:\"number\",onChange:function onChange(event){setValue(event.target.value);},color:\"secondary\"}),/*#__PURE__*/_jsx(Box,{mt:2,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,size:\"large\",variant:\"contained\",color:\"secondary\",onClick:query,children:\"\\u68C0\\u6D4B\\u9690\\u79C1\\u72B6\\u6001\"})})]})}),result!==null&&/*#__PURE__*/_jsx(Box,{mt:4,children:/*#__PURE__*/_jsx(Result,{state:state,closeResult:closeResult,result:result})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"sources":["/usr/local/privacy/website/src/App.tsx"],"names":["React","Typography","Button","makeStyles","CssBaseline","Container","Box","TextField","FormControl","Result","AppBar","Footer","Alert","useStyles","theme","main","flex","padding","spacing","heroContent","State","App","classes","useState","value","setValue","Normal","state","setState","error","setError","names","nicknames","phone_numbers","id_numbers","qq_numbers","passwords","emails","addresses","result","setResult","closeResult","query","length","url","URL","document","baseURI","search","URLSearchParams","toString","fetch","then","response","json","code","Failed","message","data","Succeeded","catch","console","log","event","target"],"mappings":"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","sourcesContent":["import React from 'react';\nimport 'fontsource-roboto';\nimport './App.css';\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from '@material-ui/core/Button';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControl from '@material-ui/core/FormControl';\nimport Result from \"./components/ResultList\";\nimport AppBar from \"./components/AppBar\";\nimport Footer from \"./components/Footer\";\nimport Alert from '@material-ui/lab/Alert';\n\nconst useStyles = makeStyles((theme) => ({\n    main: {\n        flex: 1,\n        padding: theme.spacing(2),\n    },\n    heroContent: {\n        padding: theme.spacing(4, 2),\n    },\n}));\n\ninterface Response {\n    code: number;\n    message: string;\n    data: any;\n}\n\nexport interface QueryResult {\n    names: string[];\n    nicknames: string[];\n    phone_numbers: string[];\n    id_numbers: string[];\n    qq_numbers: string[];\n    passwords: string[];\n    emails: string[];\n    addresses: string[];\n}\n\nexport enum State {\n    Normal,\n    Succeeded,\n    Failed,\n}\n\nfunction App() {\n    const classes = useStyles();\n\n    const [value, setValue] = React.useState('');\n    const [state, setState] = React.useState(State.Normal);\n    const [error, setError] = React.useState('');\n    const [result, setResult] = React.useState({\n        names: [],\n        nicknames: [],\n        phone_numbers: [],\n        id_numbers: [],\n        qq_numbers: [],\n        passwords: [],\n        emails: [],\n        addresses: [],\n    } as QueryResult);\n\n    const closeResult = () => {\n        setState(State.Normal);\n    }\n\n    const query = async () => {\n        setState(State.Normal);\n        if (value.length === 0) {\n            return;\n        }\n        let url = new URL(document.baseURI + 'api/query');\n        url.search = new URLSearchParams({'value': value}).toString();\n        fetch(url.toString(), {})\n            .then(response => response.json())\n            .then((response: Response) => {\n                if (response.code !== 0) {\n                    setState(State.Failed);\n                    setError(response.message)\n                    return;\n                }\n                setResult(response.data as QueryResult);\n                setState(State.Succeeded);\n            })\n            .catch((error) => {\n                setState(State.Failed);\n                setError(error)\n                console.log('error: ' + error);\n            });\n    }\n\n    return (\n        <React.Fragment>\n            <CssBaseline/>\n            <AppBar/>\n            <Container maxWidth=\"sm\" component=\"main\" className={classes.main}>\n                {\n                    state === State.Failed &&\n                    <Alert variant=\"filled\" severity=\"error\">\n                        {error}\n                    </Alert>\n                }\n                <Box mt={2}>\n                    <Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\n                        Privacy\n                    </Typography>\n                    <Typography component=\"p\" variant=\"h5\" align=\"center\" color=\"textSecondary\">\n                        「 is dead, get over it. 」\n                    </Typography>\n                </Box>\n                <Box mt={4}>\n                    <FormControl fullWidth component=\"fieldset\">\n                        <TextField\n                            fullWidth\n                            id=\"filled-basic\"\n                            label=\"QQ / 手机号 / 身份证号 / 邮箱\"\n                            variant=\"outlined\"\n                            type=\"number\"\n                            onChange={event => {\n                                setValue(event.target.value)\n                            }}\n                            color=\"secondary\"/>\n                        <Box mt={2}>\n                            <Button fullWidth size=\"large\" variant=\"contained\" color=\"secondary\" onClick={query}>\n                                检测隐私状态\n                            </Button>\n                        </Box>\n                    </FormControl>\n                </Box>\n                {\n                    result !== null &&\n                    <Box mt={4}>\n                        <Result state={state} closeResult={closeResult} result={result}/>\n                    </Box>\n                }\n            </Container>\n            <Footer/>\n        </React.Fragment>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}